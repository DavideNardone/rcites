---
title: "Bulk analysis with rcites"
author: "rcites team"
date: 10-08-2018
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Bulk analysis with rcites}
  %\VignetteEngine{knitr::rmarkdown}
editor_options: 
  chunk_output_type: console
---


```{r setup, echo = FALSE}
NOT_CRAN <- FALSE
# NOT_CRAN <- identical(tolower(Sys.getenv("NOT_CRAN")), "true")
knitr::opts_chunk$set(
  purl = NOT_CRAN,
  eval = NOT_CRAN,
  fig.align = "center",
  comment = "#> "
)
library(rcites)
```

## Broad taxon concept queries

If you want to query all taxa, you can use `spp_taxonconcept()` with `query_taxon = ""` after setting up your token.

```{r}
res_cms <- spp_taxonconcept("", taxonomy = "CMS") #slow
dim(res_cms$general)
```

Alternativelly, you can retrieve, for example, the first three pages of results served by the API.

```{r}
res_cites <- spp_taxonconcept("", page = 1:3)
dim(res_cites$general)
```

## Retrieving information for a set of taxon_concept

All `spp_` functions (`spp_distributions()`, `spp_eu_legislation()`, `spp_cites_legislation()` and
`spp_references()`) can handle a vector of taxon_id which allows of bulk analysis.

```{r}
res1 <- spp_distributions(taxon_id = c('4521', '3210', '10255'))
```

```{r}
res2 <- spp_cites_legislation(taxon_id = c('4521', '3210', '10255'))
```

```{r}
res3 <- spp_eu_legislation(taxon_id = c('4521', '3210', '10255'))
```

```{r}
res4 <- spp_references(taxon_id = c('4521', '3210', '10255'))
```
